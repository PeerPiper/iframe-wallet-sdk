{"version":3,"mappings":"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","names":["LUT_HEX_4b","LUT_HEX_8b","n","cubicOut","t","f","quintOut","fade","node","linear","slide","style","opacity","height","padding_top","padding_bottom","margin_top","margin_bottom","border_top_width","border_bottom_width","insert_hydration","target","append_hydration","div","svg","ctx","div_intro","duration","div1","clip","copied","copy","promise","$$invalidate","$$value","blob","filename","url","link","div3","div2","div0","button","initialEnabled","cb","enabled","handleOutsideClick","showWarning","toggle","show","exportKeyfile","$storedValue","bytes","str","downloadBlob","e","func_1","show_if","func","dirty","each_value_1","func_2","i","t0_value","attr","each_value","func_3","if_block","create_if_block","k","selectedRSA","collapsed","is_function","createEventDispatcher","creating","keys","generateMnemonic","generateRsaJwk","loadSecrets","getLoadedKeys","onMount","handleGenerateKeypair","rsajwk","set_store_value","mnemonic","loadKeys","dispatch"],"sources":["../../../../../../src/lib/frontend/utils.ts","../../../../../../node_modules/svelte/easing/index.mjs","../../../../../../node_modules/svelte/transition/index.mjs","../../../../../../src/lib/frontend/Clipboard.svelte","../../../../../../src/lib/frontend/downloadBlob.js","../../../../../../src/lib/frontend/Menu.svelte","../../../../../../src/lib/frontend/ListKeys.svelte","../../../../../../src/lib/frontend/GetKeys.svelte"],"sourcesContent":["// Pre-Init\r\nconst LUT_HEX_4b = ['0', '1', '2', '3', '4', '5', '6', '7', '8', '9', 'A', 'B', 'C', 'D', 'E', 'F'];\r\nconst LUT_HEX_8b = new Array(0x100);\r\nfor (let n = 0; n < 0x100; n++) {\r\n\tLUT_HEX_8b[n] = `${LUT_HEX_4b[(n >>> 4) & 0xf]}${LUT_HEX_4b[n & 0xf]}`;\r\n}\r\n\r\n// End Pre-Init\r\nexport function bufftoHex(buffer) {\r\n\tlet out = '';\r\n\tfor (let idx = 0, edx = buffer.length; idx < edx; idx++) {\r\n\t\tout += LUT_HEX_8b[buffer[idx]];\r\n\t}\r\n\treturn out;\r\n}\r\n\r\nexport const shorten = (key: string, start = 6, end = 6) => {\r\n\tif (key.length < start + end + 3) return key;\r\n\treturn key.slice(0, start) + '...' + key.slice(key.length - end, key.length);\r\n};\r\n\r\nexport const shortenURL = (key: string) => {\r\n\tconst tail = 30;\r\n\tconst start = 'https://'.length; // key.slice(start, Math.min(start, 8)) +\r\n\tconst end = Math.max(key.length - tail, 0);\r\n\tconst maybeEllips = key.length > tail ? '..' : '';\r\n\treturn maybeEllips + key.slice(end, key.length);\r\n};\r\n","export { identity as linear } from '../internal/index.mjs';\n\n/*\nAdapted from https://github.com/mattdesl\nDistributed under MIT License https://github.com/mattdesl/eases/blob/master/LICENSE.md\n*/\nfunction backInOut(t) {\n    const s = 1.70158 * 1.525;\n    if ((t *= 2) < 1)\n        return 0.5 * (t * t * ((s + 1) * t - s));\n    return 0.5 * ((t -= 2) * t * ((s + 1) * t + s) + 2);\n}\nfunction backIn(t) {\n    const s = 1.70158;\n    return t * t * ((s + 1) * t - s);\n}\nfunction backOut(t) {\n    const s = 1.70158;\n    return --t * t * ((s + 1) * t + s) + 1;\n}\nfunction bounceOut(t) {\n    const a = 4.0 / 11.0;\n    const b = 8.0 / 11.0;\n    const c = 9.0 / 10.0;\n    const ca = 4356.0 / 361.0;\n    const cb = 35442.0 / 1805.0;\n    const cc = 16061.0 / 1805.0;\n    const t2 = t * t;\n    return t < a\n        ? 7.5625 * t2\n        : t < b\n            ? 9.075 * t2 - 9.9 * t + 3.4\n            : t < c\n                ? ca * t2 - cb * t + cc\n                : 10.8 * t * t - 20.52 * t + 10.72;\n}\nfunction bounceInOut(t) {\n    return t < 0.5\n        ? 0.5 * (1.0 - bounceOut(1.0 - t * 2.0))\n        : 0.5 * bounceOut(t * 2.0 - 1.0) + 0.5;\n}\nfunction bounceIn(t) {\n    return 1.0 - bounceOut(1.0 - t);\n}\nfunction circInOut(t) {\n    if ((t *= 2) < 1)\n        return -0.5 * (Math.sqrt(1 - t * t) - 1);\n    return 0.5 * (Math.sqrt(1 - (t -= 2) * t) + 1);\n}\nfunction circIn(t) {\n    return 1.0 - Math.sqrt(1.0 - t * t);\n}\nfunction circOut(t) {\n    return Math.sqrt(1 - --t * t);\n}\nfunction cubicInOut(t) {\n    return t < 0.5 ? 4.0 * t * t * t : 0.5 * Math.pow(2.0 * t - 2.0, 3.0) + 1.0;\n}\nfunction cubicIn(t) {\n    return t * t * t;\n}\nfunction cubicOut(t) {\n    const f = t - 1.0;\n    return f * f * f + 1.0;\n}\nfunction elasticInOut(t) {\n    return t < 0.5\n        ? 0.5 *\n            Math.sin(((+13.0 * Math.PI) / 2) * 2.0 * t) *\n            Math.pow(2.0, 10.0 * (2.0 * t - 1.0))\n        : 0.5 *\n            Math.sin(((-13.0 * Math.PI) / 2) * (2.0 * t - 1.0 + 1.0)) *\n            Math.pow(2.0, -10.0 * (2.0 * t - 1.0)) +\n            1.0;\n}\nfunction elasticIn(t) {\n    return Math.sin((13.0 * t * Math.PI) / 2) * Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction elasticOut(t) {\n    return (Math.sin((-13.0 * (t + 1.0) * Math.PI) / 2) * Math.pow(2.0, -10.0 * t) + 1.0);\n}\nfunction expoInOut(t) {\n    return t === 0.0 || t === 1.0\n        ? t\n        : t < 0.5\n            ? +0.5 * Math.pow(2.0, 20.0 * t - 10.0)\n            : -0.5 * Math.pow(2.0, 10.0 - t * 20.0) + 1.0;\n}\nfunction expoIn(t) {\n    return t === 0.0 ? t : Math.pow(2.0, 10.0 * (t - 1.0));\n}\nfunction expoOut(t) {\n    return t === 1.0 ? t : 1.0 - Math.pow(2.0, -10.0 * t);\n}\nfunction quadInOut(t) {\n    t /= 0.5;\n    if (t < 1)\n        return 0.5 * t * t;\n    t--;\n    return -0.5 * (t * (t - 2) - 1);\n}\nfunction quadIn(t) {\n    return t * t;\n}\nfunction quadOut(t) {\n    return -t * (t - 2.0);\n}\nfunction quartInOut(t) {\n    return t < 0.5\n        ? +8.0 * Math.pow(t, 4.0)\n        : -8.0 * Math.pow(t - 1.0, 4.0) + 1.0;\n}\nfunction quartIn(t) {\n    return Math.pow(t, 4.0);\n}\nfunction quartOut(t) {\n    return Math.pow(t - 1.0, 3.0) * (1.0 - t) + 1.0;\n}\nfunction quintInOut(t) {\n    if ((t *= 2) < 1)\n        return 0.5 * t * t * t * t * t;\n    return 0.5 * ((t -= 2) * t * t * t * t + 2);\n}\nfunction quintIn(t) {\n    return t * t * t * t * t;\n}\nfunction quintOut(t) {\n    return --t * t * t * t * t + 1;\n}\nfunction sineInOut(t) {\n    return -0.5 * (Math.cos(Math.PI * t) - 1);\n}\nfunction sineIn(t) {\n    const v = Math.cos(t * Math.PI * 0.5);\n    if (Math.abs(v) < 1e-14)\n        return 1;\n    else\n        return 1 - v;\n}\nfunction sineOut(t) {\n    return Math.sin((t * Math.PI) / 2);\n}\n\nexport { backIn, backInOut, backOut, bounceIn, bounceInOut, bounceOut, circIn, circInOut, circOut, cubicIn, cubicInOut, cubicOut, elasticIn, elasticInOut, elasticOut, expoIn, expoInOut, expoOut, quadIn, quadInOut, quadOut, quartIn, quartInOut, quartOut, quintIn, quintInOut, quintOut, sineIn, sineInOut, sineOut };\n","import { cubicInOut, linear, cubicOut } from '../easing/index.mjs';\nimport { is_function, assign } from '../internal/index.mjs';\n\n/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nfunction blur(node, { delay = 0, duration = 400, easing = cubicInOut, amount = 5, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const f = style.filter === 'none' ? '' : style.filter;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `opacity: ${target_opacity - (od * u)}; filter: ${f} blur(${u * amount}px);`\n    };\n}\nfunction fade(node, { delay = 0, duration = 400, easing = linear } = {}) {\n    const o = +getComputedStyle(node).opacity;\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => `opacity: ${t * o}`\n    };\n}\nfunction fly(node, { delay = 0, duration = 400, easing = cubicOut, x = 0, y = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `\n\t\t\ttransform: ${transform} translate(${(1 - t) * x}px, ${(1 - t) * y}px);\n\t\t\topacity: ${target_opacity - (od * u)}`\n    };\n}\nfunction slide(node, { delay = 0, duration = 400, easing = cubicOut } = {}) {\n    const style = getComputedStyle(node);\n    const opacity = +style.opacity;\n    const height = parseFloat(style.height);\n    const padding_top = parseFloat(style.paddingTop);\n    const padding_bottom = parseFloat(style.paddingBottom);\n    const margin_top = parseFloat(style.marginTop);\n    const margin_bottom = parseFloat(style.marginBottom);\n    const border_top_width = parseFloat(style.borderTopWidth);\n    const border_bottom_width = parseFloat(style.borderBottomWidth);\n    return {\n        delay,\n        duration,\n        easing,\n        css: t => 'overflow: hidden;' +\n            `opacity: ${Math.min(t * 20, 1) * opacity};` +\n            `height: ${t * height}px;` +\n            `padding-top: ${t * padding_top}px;` +\n            `padding-bottom: ${t * padding_bottom}px;` +\n            `margin-top: ${t * margin_top}px;` +\n            `margin-bottom: ${t * margin_bottom}px;` +\n            `border-top-width: ${t * border_top_width}px;` +\n            `border-bottom-width: ${t * border_bottom_width}px;`\n    };\n}\nfunction scale(node, { delay = 0, duration = 400, easing = cubicOut, start = 0, opacity = 0 } = {}) {\n    const style = getComputedStyle(node);\n    const target_opacity = +style.opacity;\n    const transform = style.transform === 'none' ? '' : style.transform;\n    const sd = 1 - start;\n    const od = target_opacity * (1 - opacity);\n    return {\n        delay,\n        duration,\n        easing,\n        css: (_t, u) => `\n\t\t\ttransform: ${transform} scale(${1 - (sd * u)});\n\t\t\topacity: ${target_opacity - (od * u)}\n\t\t`\n    };\n}\nfunction draw(node, { delay = 0, speed, duration, easing = cubicInOut } = {}) {\n    let len = node.getTotalLength();\n    const style = getComputedStyle(node);\n    if (style.strokeLinecap !== 'butt') {\n        len += parseInt(style.strokeWidth);\n    }\n    if (duration === undefined) {\n        if (speed === undefined) {\n            duration = 800;\n        }\n        else {\n            duration = len / speed;\n        }\n    }\n    else if (typeof duration === 'function') {\n        duration = duration(len);\n    }\n    return {\n        delay,\n        duration,\n        easing,\n        css: (t, u) => `stroke-dasharray: ${t * len} ${u * len}`\n    };\n}\nfunction crossfade(_a) {\n    var { fallback } = _a, defaults = __rest(_a, [\"fallback\"]);\n    const to_receive = new Map();\n    const to_send = new Map();\n    function crossfade(from, node, params) {\n        const { delay = 0, duration = d => Math.sqrt(d) * 30, easing = cubicOut } = assign(assign({}, defaults), params);\n        const to = node.getBoundingClientRect();\n        const dx = from.left - to.left;\n        const dy = from.top - to.top;\n        const dw = from.width / to.width;\n        const dh = from.height / to.height;\n        const d = Math.sqrt(dx * dx + dy * dy);\n        const style = getComputedStyle(node);\n        const transform = style.transform === 'none' ? '' : style.transform;\n        const opacity = +style.opacity;\n        return {\n            delay,\n            duration: is_function(duration) ? duration(d) : duration,\n            easing,\n            css: (t, u) => `\n\t\t\t\topacity: ${t * opacity};\n\t\t\t\ttransform-origin: top left;\n\t\t\t\ttransform: ${transform} translate(${u * dx}px,${u * dy}px) scale(${t + (1 - t) * dw}, ${t + (1 - t) * dh});\n\t\t\t`\n        };\n    }\n    function transition(items, counterparts, intro) {\n        return (node, params) => {\n            items.set(params.key, {\n                rect: node.getBoundingClientRect()\n            });\n            return () => {\n                if (counterparts.has(params.key)) {\n                    const { rect } = counterparts.get(params.key);\n                    counterparts.delete(params.key);\n                    return crossfade(rect, node, params);\n                }\n                // if the node is disappearing altogether\n                // (i.e. wasn't claimed by the other list)\n                // then we need to supply an outro\n                items.delete(params.key);\n                return fallback && fallback(node, params, intro);\n            };\n        };\n    }\n    return [\n        transition(to_send, to_receive, false),\n        transition(to_receive, to_send, true)\n    ];\n}\n\nexport { blur, crossfade, draw, fade, fly, scale, slide };\n","<script>\r\n\t// @ts-nocheck\r\n\timport { fade } from 'svelte/transition';\r\n\r\n\texport let value = null;\r\n\r\n\tlet clip;\r\n\tlet copied;\r\n\tlet duration = 2000;\r\n\r\n\tasync function copy() {\r\n\t\tvar promise = navigator.clipboard.writeText(clip.innerHTML);\r\n\t\tawait promise;\r\n\t\tvalue = promise;\r\n\t\tcopied = true;\r\n\t\tsetTimeout(() => (copied = false), 1);\r\n\t}\r\n</script>\r\n\r\n<!-- Clipboard  -->\r\n<div class=\"Clipboard-Container\" on:click={copy}>\r\n\t{#if copied}\r\n\t\t<div out:fade={{ duration }}>✔️Copied</div>\r\n\t{:else}\r\n\t\t<div in:fade={{ duration: 0, delay: duration }}>\r\n\t\t\t<svg\r\n\t\t\t\ton:click={copy}\r\n\t\t\t\tclass=\"octicon octicon-clippy\"\r\n\t\t\t\tviewBox=\"0 0 14 16\"\r\n\t\t\t\tversion=\"1.1\"\r\n\t\t\t\twidth=\"14\"\r\n\t\t\t\theight=\"16\"\r\n\t\t\t\taria-hidden=\"true\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t>\r\n\t\t\t\t<title>Copy to clipboard</title>\r\n\t\t\t\t<path\r\n\t\t\t\t\tfill-rule=\"evenodd\"\r\n\t\t\t\t\td=\"M2 13h4v1H2v-1zm5-6H2v1h5V7zm2 3V8l-3 3 3 3v-2h5v-2H9zM4.5 9H2v1h2.5V9zM2 12h2.5v-1H2v1zm9 1h1v2c-.02.28-.11.52-.3.7-.19.18-.42.28-.7.3H1c-.55 0-1-.45-1-1V4c0-.55.45-1 1-1h3c0-1.11.89-2 2-2 1.11 0 2 .89 2 2h3c.55 0 1 .45 1 1v5h-1V6H1v9h10v-2zM2 5h8c0-.55-.45-1-1-1H8c-.55 0-1-.45-1-1s-.45-1-1-1-1 .45-1 1-.45 1-1 1H3c-.55 0-1 .45-1 1z\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t{/if}\r\n\t<div class=\"Clipboard\" bind:this={clip}>\r\n\t\t<slot {copy} />\r\n\t</div>\r\n</div>\r\n\r\n<style>\r\n\t.Clipboard {\r\n\t\tmargin: 0 0.5em;\r\n\t\tword-break: break-all;\r\n\t}\r\n\t.Clipboard-Container {\r\n\t\tdisplay: flex;\r\n\t}\r\n\t.Clipboard-Container,\r\n\tsvg {\r\n\t\tcursor: pointer;\r\n\t}\r\n\tsvg {\r\n\t\tcursor: pointer;\r\n\t\tbackground-color: transparent;\r\n\t\tfill: transparent;\r\n\t\twidth: auto;\r\n\t\theight: 1.5em;\r\n\t}\r\n</style>\r\n","export default (blob, filename) => {\r\n\tconst url = URL.createObjectURL(blob);\r\n\tconst link = document.createElement('a');\r\n\tlink.href = url;\r\n\tlink.download = filename;\r\n\tlink.style.display = 'none';\r\n\tdocument.body.appendChild(link);\r\n\tlink.click();\r\n\tURL.revokeObjectURL(url);\r\n\tlink.remove();\r\n};\r\n","<script>\r\n\t// @ts-nocheck\r\n\r\n\timport { slide } from 'svelte/transition';\r\n\timport { quintOut } from 'svelte/easing';\r\n\timport { storedValue } from './stores';\r\n\timport downloadBlob from './downloadBlob.js';\r\n\r\n\tlet show = false;\r\n\tlet showWarning = false;\r\n\r\n\tfunction toggle() {\r\n\t\tshowWarning = false;\r\n\t\tshow = !show;\r\n\t}\r\n\r\n\tfunction exportKeyfile() {\r\n\t\tshowWarning = false;\r\n\t\tif (!$storedValue?.rsajwk) {\r\n\t\t\tconsole.log('No RSA key found');\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst str = JSON.stringify($storedValue.rsajwk);\r\n\t\tconst bytes = new TextEncoder().encode(str);\r\n\t\tconst blob = new Blob([bytes], {\r\n\t\t\ttype: 'application/json;charset=utf-8'\r\n\t\t});\r\n\t\tdownloadBlob(blob, `arweave-keyfile-${$storedValue?.rsajwk?.kid || 'noname'}.json`);\r\n\t\tconsole.log('export keyfile');\r\n\t}\r\n\r\n\tfunction clickOutside(node, { enabled: initialEnabled, cb }) {\r\n\t\tconst handleOutsideClick = ({ target }) => {\r\n\t\t\tif (!node.contains(target)) {\r\n\t\t\t\tcb();\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfunction update({ enabled }) {\r\n\t\t\tif (enabled) {\r\n\t\t\t\twindow.addEventListener('click', handleOutsideClick);\r\n\t\t\t} else {\r\n\t\t\t\twindow.removeEventListener('click', handleOutsideClick);\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tupdate({ enabled: initialEnabled });\r\n\t\treturn {\r\n\t\t\tupdate,\r\n\t\t\tdestroy() {\r\n\t\t\t\twindow.removeEventListener('click', handleOutsideClick);\r\n\t\t\t}\r\n\t\t};\r\n\t}\r\n</script>\r\n\r\n<div\r\n\tclass=\"absolute m-2 w-48 right-0 text-toxic\"\r\n\tuse:clickOutside={{ enabled: show, cb: () => (show = false) }}\r\n>\r\n\t<button class=\"m-auto w-full\" on:click={toggle}>\r\n\t\t<div class=\"p-6 flex flex-row-reverse\">\r\n\t\t\t<!-- vertical ellipsis -->\r\n\t\t\t<svg\r\n\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\tclass=\"h-6 w-6\"\r\n\t\t\t\tfill=\"none\"\r\n\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t>\r\n\t\t\t\t<path\r\n\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\tstroke-width=\"2\"\r\n\t\t\t\t\td=\"M4 6h16M4 12h16M4 18h16\"\r\n\t\t\t\t/>\r\n\t\t\t</svg>\r\n\t\t</div>\r\n\t</button>\r\n\t{#if show}\r\n\t\t<div\r\n\t\t\ttransition:slide={{ delay: 100, duration: 300, easing: quintOut }}\r\n\t\t\ton:click|preventDefault={(e) => (showWarning = true)}\r\n\t\t\tclass=\"card relative cursor-pointer text-toxic p-4 border border-toxic shadow-md shadow-toxic/50 rounded-lg w-auto bg-neutral-800\"\r\n\t\t>\r\n\t\t\t<!-- donwload svg icon, arrow pointing down to tray  -->\r\n\t\t\t<div class=\"flex flex-row\">\r\n\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t<svg\r\n\t\t\t\t\t\txmlns=\"http://www.w3.org/2000/svg\"\r\n\t\t\t\t\t\tclass=\"h-6 w-6 m-2\"\r\n\t\t\t\t\t\tfill=\"none\"\r\n\t\t\t\t\t\tviewBox=\"0 0 24 24\"\r\n\t\t\t\t\t\tstroke=\"currentColor\"\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<path\r\n\t\t\t\t\t\t\tstroke-linecap=\"round\"\r\n\t\t\t\t\t\t\tstroke-linejoin=\"round\"\r\n\t\t\t\t\t\t\tstroke-width=\"2\"\r\n\t\t\t\t\t\t\td=\"M19 13l-7 7-7-7m14-8l-7 7-7-7\"\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</svg>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"flex-1\">Download Arweave KeyFile</div>\r\n\t\t\t</div>\r\n\t\t\t{#if showWarning}\r\n\t\t\t\t<div\r\n\t\t\t\t\tclass=\"text-yellow-400 w-full cursor-default\"\r\n\t\t\t\t\ttransition:slide={{ delay: 50, duration: 200, easing: quintOut }}\r\n\t\t\t\t>\r\n\t\t\t\t\t⚠️ Warning: Do not give your key file to anyone, these are your secret keys!\r\n\r\n\t\t\t\t\t<!-- I undetsand, start download -->\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclass=\"my-4 border border-toxic rounded-lg bg-green-500 text-white\"\r\n\t\t\t\t\t\ton:click|preventDefault={exportKeyfile}>Understood, Start Download</button\r\n\t\t\t\t\t>\r\n\t\t\t\t</div>\r\n\t\t\t{/if}\r\n\t\t</div>\r\n\t{/if}\r\n</div>\r\n","<script>\r\n\t// @ts-nocheck\r\n\r\n\t// show the user's keys\r\n\t// parse out the JWKs into types: RSA and Ed25519 according to JWK\r\n\timport { shorten, bufftoHex } from './utils';\r\n\timport Clipboard from './Clipboard.svelte';\r\n\timport EncodingSelector from './components/atomic/EncodingSelector.svelte';\r\n\timport Menu from './Menu.svelte';\r\n\r\n\texport let keys;\r\n\r\n\tlet selectedRSA;\r\n\tlet collapsed;\r\n</script>\r\n\r\n{#if keys && keys.length > 0}\r\n\t<Menu />\r\n\t<div class=\"card text-toxic shadow-md shadow-toxic/50 rounded-lg p-4 m-4 w-auto bg-neutral-800\">\r\n\t\t{#if keys.filter((k) => k.publicKeyJWK.kty == 'RSA').length}\r\n\t\t\t<div class=\"keylist overflow-hidden\">\r\n\t\t\t\t<div class=\"row left\">\r\n\t\t\t\t\t<span>Arweave</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"row list-group\">\r\n\t\t\t\t\t{#each keys.filter((k) => k.publicKeyJWK.kty == 'RSA') as rsaJWK}\r\n\t\t\t\t\t\t<div class=\"flex flex-col\">\r\n\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\tclass=\"{collapsed && selectedRSA != rsaJWK.kid\r\n\t\t\t\t\t\t\t\t\t? 'hide'\r\n\t\t\t\t\t\t\t\t\t: ''} list-group-item list-group-item-action \"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{rsaJWK.name}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div class=\"flex-1\">\r\n\t\t\t\t\t\t\t\tBase64URL: <Clipboard>{rsaJWK.publicKeyJWK.kid}</Clipboard>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t{/each}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t\t{#if keys.filter((k) => k.publicKeyJWK.crv == 'Ed25519')}\r\n\t\t\t<div class=\"keylist\">\r\n\t\t\t\t<div class=\"row left\">\r\n\t\t\t\t\t<span>Ed25519</span>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div class=\"row list-group\">\r\n\t\t\t\t\t<ul>\r\n\t\t\t\t\t\t{#each keys.filter((k) => k.publicKeyJWK.crv == 'Ed25519') as edJWK}\r\n\t\t\t\t\t\t\t<EncodingSelector pubkey={new Uint8Array(edJWK.publicKey)} let:encoded>\r\n\t\t\t\t\t\t\t\t<Clipboard>{encoded}</Clipboard>\r\n\t\t\t\t\t\t\t</EncodingSelector>\r\n\t\t\t\t\t\t{/each}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t{/if}\r\n\t</div>\r\n{/if}\r\n\r\n<style>\r\n\t.keylist {\r\n\t\tdisplay: flex;\r\n\t\tflex-direction: row;\r\n\t\tflex-wrap: nowrap;\r\n\t\tjustify-content: flex-start;\r\n\t\talign-items: stretch;\r\n\t\talign-content: stretch;\r\n\t\tborder-bottom: 1px #d6e7df solid;\r\n\t\tpadding-bottom: 4px;\r\n\t\tmargin-bottom: 4px;\r\n\t}\r\n\t.left {\r\n\t\tflex-shrink: 2;\r\n\t\twidth: 85px;\r\n\t}\r\n\t.row,\r\n\tul {\r\n\t\tmargin: 0em;\r\n\t\tpadding: 0em;\r\n\t}\r\n\t.row:not(.left) {\r\n\t\tflex: 1 1 auto;\r\n\t\toverflow-y: auto;\r\n\t}\r\n\t.hide {\r\n\t\tdisplay: none;\r\n\t}\r\n</style>\r\n","<script lang=\"ts\">\r\n\t/**\r\n\tKeys can come from:\r\n\t- Loaded from storage (index.svelte, in which case this component is not needed)\r\n\t- Generated from scratch (here)\r\n\t- Load by user (here)\r\n\r\n\tkeys get saved to $storedValue which trigger the ImmortalDB saved\r\n\t*/\r\n\timport { onMount, createEventDispatcher } from 'svelte';\r\n\timport { storedValue } from './stores';\r\n\r\n\timport ListKeys from './ListKeys.svelte';\r\n\r\n\tconst dispatch = createEventDispatcher();\r\n\r\n\tlet handleGenerateKeypair:\r\n\t\t| ((event: MouseEvent & { currentTarget: EventTarget & HTMLButtonElement }) => void)\r\n\t\t| null = null;\r\n\r\n\t// state variables\r\n\tlet creating = '';\r\n\tlet keys: {\r\n\t\tname: string;\r\n\t\tpublicKey: string; // todo: to UInt8Array?\r\n\t\tpublicKeyJWK: {\r\n\t\t\tkty: string;\r\n\t\t\tkid: string;\r\n\t\t\te: string; //'AQAB'; //  value 65537, the octet sequence to be base64url-encoded MUST consist of the three octets [1, 0, 1]; the resulting representation for this value is \"AQAB\"\r\n\t\t\tn: string; // keyDetails.n;\r\n\t\t}; // already a JWK\r\n\t\tpublicKeyBase58: string; // address = base64URL encoded hash of jwk.n\r\n\t}[];\r\n\r\n\tlet generateMnemonic, generateRsaJwk, loadSecrets, getLoadedKeys;\r\n\r\n\tonMount(async () => {\r\n\t\t({ generateMnemonic, generateRsaJwk, loadSecrets, getLoadedKeys } = await import(\r\n\t\t\t'@peerpiper/iframe-wallet-sdk'\r\n\t\t));\r\n\t\thandleGenerateKeypair = async () => {\r\n\t\t\tcreating = 'Creating keypairs...';\r\n\r\n\t\t\tconst mnemonic = await generateMnemonic();\r\n\t\t\tconst rsajwk = await generateRsaJwk();\r\n\r\n\t\t\t// save to storedValue.\r\n\t\t\t// TODO: offer password protection/encryption?\r\n\t\t\t$storedValue = { ...$storedValue, mnemonic, rsajwk };\r\n\r\n\t\t\tcreating += '<br/>Created mnemonic.';\r\n\t\t\tcreating += `<br/>${mnemonic}`;\r\n\t\t\tcreating += '<br/>Creating master keypair (type ed25519)...';\r\n\t\t};\r\n\t});\r\n\r\n\t$: if (!!loadSecrets && !!getLoadedKeys && $storedValue && $storedValue.mnemonic) loadKeys(); // load keys once there is a storedValue\r\n\r\n\tasync function loadKeys() {\r\n\t\tawait loadSecrets({ mnemonic: $storedValue.mnemonic, rsajwk: $storedValue.rsajwk });\r\n\r\n\t\tdispatch('loadedKeys', 'details'); // let parent component know\r\n\t\tkeys = getLoadedKeys(); // get all proxcryptor public key info\r\n\t}\r\n</script>\r\n\r\n{#if handleGenerateKeypair}\r\n\t{#if ($storedValue != undefined && $storedValue == null) || !$storedValue?.mnemonic || !$storedValue?.rsajwk}\r\n\t\t<!-- Show \"Create Keys\" if no keys exist, no matter what page is showing -- toolbar? -->\r\n\t\t<div class=\"submit flex flex-col text-black bg-yellow-300 shadow p-8 m-4 rounded w-fit\">\r\n\t\t\t<button\r\n\t\t\t\tclass=\"bg-green-500 rounded shadow-lg shadow-slate-600/50 p-4 w-fit m-4 text-white\"\r\n\t\t\t\ton:click={handleGenerateKeypair}>Create New Keypairs</button\r\n\t\t\t>\r\n\t\t\t{@html creating}\r\n\t\t</div>\r\n\t{:else}\r\n\t\t<!-- GetKeys: has storedValue, sending to Connector if in Opened window. Else, allowing user to manage keys.<br /> -->\r\n\t\t<ListKeys {keys} />\r\n\t{/if}\r\n{/if}\r\n\r\n<style>\r\n\tdiv {\r\n\t\tpadding: 2em;\r\n\t}\r\n</style>\r\n"],"file":"_app/immutable/chunks/GetKeys-8abaf7df.js"}