{"version":3,"file":"tests-a49540b3.js","sources":["../../../../../../src/lib/engine/tests.ts"],"sourcesContent":["// test dispatch in browser\r\n// import dispatch from arweave handler\r\nimport { handlers as wallet, generateRsaJwk } from '@peerpiper/iframe-wallet-sdk';\r\n\r\nimport Arweave from 'arweave';\r\n\r\nlet arweave: Arweave;\r\n\r\nasync function bundle(arweave) {\r\n\tconst transaction = await arweave.createTransaction({\r\n\t\tdata: '<html><head><meta charset=\"UTF-8\"><title>Hello Bundlr!</title></head><body>Hello Bundlr!</body></html>'\r\n\t});\r\n\r\n\ttransaction.addTag('Content-Type', 'text/html');\r\n\ttransaction.addTag('test', 'test');\r\n\r\n\tconsole.log({ transaction });\r\n\r\n\tconst txid = await wallet.arweaveWalletAPI.dispatch(transaction);\r\n\tconsole.log({ txid });\r\n\r\n\treturn txid;\r\n}\r\n\r\nexport async function flow() {\r\n\tawait generateRsaJwk();\r\n\r\n\tarweave = Arweave.init({});\r\n\tconst txid = await bundle(arweave);\r\n\r\n\tconsole.log(`IDs: ${txid}`);\r\n\r\n\treturn txid;\r\n}\r\n"],"names":["arweave","bundle","transaction","txid","wallet","flow","generateRsaJwk","Arweave"],"mappings":"4MAMA,IAAIA,EAEJ,eAAeC,EAAOD,EAAS,CACxB,MAAAE,EAAc,MAAMF,EAAQ,kBAAkB,CACnD,KAAM,wGAAA,CACN,EAEWE,EAAA,OAAO,eAAgB,WAAW,EAClCA,EAAA,OAAO,OAAQ,MAAM,EAEzB,QAAA,IAAI,CAAE,YAAAA,CAAA,CAAa,EAE3B,MAAMC,EAAO,MAAMC,EAAO,iBAAiB,SAASF,CAAW,EACvD,eAAA,IAAI,CAAE,KAAAC,CAAA,CAAM,EAEbA,CACR,CAEA,eAAsBE,GAAO,CAC5B,MAAMC,EAAe,EAEXN,EAAAO,EAAQ,KAAK,CAAA,CAAE,EACnB,MAAAJ,EAAO,MAAMF,EAAOD,CAAO,EAEzB,eAAA,IAAI,QAAQG,GAAM,EAEnBA,CACR"}