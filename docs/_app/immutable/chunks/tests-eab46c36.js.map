{"version":3,"file":"tests-eab46c36.js","sources":["../../../../../../src/lib/engine/tests.ts"],"sourcesContent":["// test dispatch in browser\r\n// import dispatch from arweave handler\r\nimport { handlers as wallet, generateRsaJwk } from '@peerpiper/iframe-wallet-sdk';\r\n\r\nimport Arweave from 'arweave';\r\n\r\nlet arweave: Arweave;\r\n\r\nasync function bundle(arweave) {\r\n\tconst transaction = await arweave.createTransaction({\r\n\t\tdata: '<html><head><meta charset=\"UTF-8\"><title>Hello Bundlr!</title></head><body>Hello Bundlr!</body></html>'\r\n\t});\r\n\r\n\ttransaction.addTag('Content-Type', 'text/html');\r\n\ttransaction.addTag('test', 'test');\r\n\r\n\tconsole.log({ transaction });\r\n\r\n\tconst txid = await wallet.arweaveWalletAPI.dispatch(transaction);\r\n\tconsole.log({ txid });\r\n\r\n\treturn txid;\r\n}\r\n\r\nexport async function flow() {\r\n\tawait generateRsaJwk();\r\n\r\n\tarweave = Arweave.init({});\r\n\tconst txid = await bundle(arweave);\r\n\r\n\tconsole.log(`IDs: ${txid}`);\r\n\r\n\treturn txid;\r\n}\r\n"],"names":["arweave","wallet"],"mappings":";;;;;;AAMA,IAAI;AAEJ,eAAe,OAAOA,UAAS;AACxB,QAAA,cAAc,MAAMA,SAAQ,kBAAkB;AAAA,IACnD,MAAM;AAAA,EAAA,CACN;AAEW,cAAA,OAAO,gBAAgB,WAAW;AAClC,cAAA,OAAO,QAAQ,MAAM;AAEzB,UAAA,IAAI,EAAE,YAAA,CAAa;AAE3B,QAAM,OAAO,MAAMC,SAAO,iBAAiB,SAAS,WAAW;AACvD,UAAA,IAAI,EAAE,KAAA,CAAM;AAEb,SAAA;AACR;AAEA,eAAsB,OAAO;AAC5B,QAAM,eAAe;AAEX,YAAA,QAAQ,KAAK,CAAA,CAAE;AACnB,QAAA,OAAO,MAAM,OAAO,OAAO;AAEzB,UAAA,IAAI,QAAQ,MAAM;AAEnB,SAAA;AACR;"}